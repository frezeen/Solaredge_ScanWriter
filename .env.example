# SolarEdge ScanWriter - Environment Variables
# Copy this file to .env and replace placeholder values
# Data: Updated with GME support

# === SOLAREDGE API CONFIGURATION ===
SOLAREDGE_API_KEY=YOUR_API_KEY_HERE
SOLAREDGE_USERNAME=your.email@example.com
SOLAREDGE_PASSWORD=YOUR_PASSWORD_HERE
SOLAREDGE_SITE_ID=123456
SOLAREDGE_API_BASE_URL=https://monitoringapi.solaredge.com
SOLAREDGE_BASE_URL=https://monitoring.solaredge.com
SOLAREDGE_LOGIN_URL=https://monitoring.solaredge.com/solaredge-apigw/api/login
API_TIMEOUT_SECONDS=30
API_RATE_LIMIT_SECONDS=1
API_RETRY_ATTEMPTS=3
API_RETRY_DELAY_SECONDS=2

# === SCHEDULER CONFIGURATION ===
SCHEDULER_API_DELAY_SECONDS=1
SCHEDULER_WEB_DELAY_SECONDS=2
SCHEDULER_REALTIME_DELAY_SECONDS=0
SCHEDULER_GME_DELAY_SECONDS=30
SCHEDULER_SKIP_DELAY_ON_CACHE_HIT=true

# === LOOP INTERVALS CONFIGURATION ===
LOOP_API_INTERVAL_MINUTES=15
LOOP_WEB_INTERVAL_MINUTES=15
LOOP_REALTIME_INTERVAL_SECONDS=5
# GME data is published D+1 (next day), so check once daily (1440 min = 24 hours)
LOOP_GME_INTERVAL_MINUTES=1440

# === REALTIME CONFIGURATION ===
REALTIME_MODBUS_HOST=192.168.1.100
REALTIME_MODBUS_PORT=1502
REALTIME_MODBUS_TIMEOUT=1
REALTIME_MODBUS_UNIT=1
MODBUS_RETRIES=3
MODBUS_ENABLED=true

# === INFLUXDB CONFIGURATION ===
# For Docker: use http://influxdb:8086, for standalone: http://localhost:8086
INFLUXDB_URL=http://influxdb:8086
INFLUXDB_TOKEN=your_influxdb_token_here
INFLUXDB_ORG=your_org_name
INFLUXDB_BUCKET=Solaredge
INFLUXDB_BUCKET_REALTIME=Solaredge_Realtime
INFLUXDB_BUCKET_GME=GME
INFLUX_DRY_FILE=logs/influx_dry_points.jsonl
INFLUX_DRY_MODE=false
INFLUX_BATCH_SIZE=500
INFLUX_FLUSH_INTERVAL_MS=1000
INFLUX_JITTER_INTERVAL_MS=100
INFLUX_RETRY_INTERVAL_MS=1000
INFLUX_MAX_RETRIES=5
# Performance optimizations (recommended)
INFLUX_ENABLE_GZIP=true
INFLUX_WRITE_PRECISION=s

# === LOGGING CONFIGURATION ===
LOG_LEVEL=INFO
LOG_FILE_LOGGING=true
LOG_DIRECTORY=logs

# === GUI CONFIGURATION ===
# For Docker: use 0.0.0.0, for standalone: 127.0.0.1
GUI_HOST=0.0.0.0
GUI_PORT=8092

# === ENVIRONMENT SETTINGS ===
ENVIRONMENT=development
TIMEZONE=Europe/Rome

# === GLOBAL CONFIGURATION ===
GLOBAL_TIMEOUT_SECONDS=30
GLOBAL_WEB_REQUEST_TIMEOUT=40
GLOBAL_API_REQUEST_TIMEOUT=20
GLOBAL_BATCH_REQUEST_TIMEOUT=60
FILTER_DEBUG=false

# === WEB SCRAPING CONFIGURATION ===
SOLAREDGE_WEB_BASE_URL=https://monitoring.solaredge.com
SOLAREDGE_COOKIE_FILE=cookies/web_cookies.json
SOLAREDGE_SESSION_TIMEOUT_SECONDS=3600

# === GME CONFIGURATION ===
# GME (Gestore dei Mercati Energetici) - Mercato Elettrico Italiano
GME_ENABLED=true
GME_USERNAME=your_gme_username
GME_PASSWORD=your_gme_password
GME_DOWNLOAD_TIMEOUT_SECONDS=30
GME_RETRY_ATTEMPTS=3
GME_RETRY_DELAY_SECONDS=2
INFLUXDB_BUCKET_GME=Solaredge_GME

# === GRAFANA CONFIGURATION ===
GRAFANA_URL=http://localhost:3000
GRAFANA_USER=admin
GRAFANA_PASSWORD=your_grafana_password

# === DOCKER SPECIFIC CONFIGURATION ===
# Set to true when running in Docker container
DOCKER_MODE=false
TZ=Europe/Rome
